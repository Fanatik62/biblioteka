# Онлайн библиотека

## Содержание


[Введение](#введение)

1) [Описание предметной области](#предметная_область)

1.1 [Проблематика](#проблематика)

1.2 [Цели и задачи](#цели_и_задачи)

1.3 [Варианты решения проблемы](#решение_проблемы)

2) [Сравнительный анализ](#анализ)

3) [Разработка](#разработка)

3.1 [Этап проектирования](#проектирование)

3.2 [Этап реализации](#реализация)

4) [Тестирование информационной системы](#тестирование)

[Заключение](#заключение)

[Список использованных источников](#ссылки)

***

## Введение <a name="введение"></a>

Темой проекта является "Онлайн библиотека", так как люди с древних времен читали книги. Мы живем в век информационных технолгий и поэтому переход с печатных видов книг на их электронную версию, должен положительно сказаться на всех людей, живущих на нашей планете. Также в наше время очень остро стоит вопрос о эпидемической ситуации в мире, и чтобы люди не ходили в библиотеку, попутно заражая себя и других, будет создана онлайн ее версию. Многие не оценят электронный формат книг, так как для них важно "чувствовать" ее руками. Но будем надеяться, что люди поймут, и с радостью воспримут эти изменения. Но для истинных читателей, всё же будет продавать бумажный вариант[1].

***

## 1 Описание предметной области <a name="предметная_область"></a>

Человеку, заходящему на сайт, будет сразу предложено либо зарегистрироваться, либо войти в свой личный кабинет, если он был уже зарегистрирован. Далее он может выбрать жанр книги, который ему интересен. Выбрав категорию, человеку будет предложен список книг. Нажав на книгу, он сможет прочитать ее описание, небольшой комментарий про ее автора, небольшой отрывок этого произведения и выбрать, . После всего этого, человеку будет предложено произвести оплату. Произведя ее, книга переместиться ему в личный кабинет. Если человек захочет приобрести печатную версию книги, то он также оставляет заказ, оплачивает и приходит в место выдачи.

Администратор сайта занимается распределением книг по жанрам, принятием новых книг, пиар-компанией этого сайта и контролем оплаты заказа.

Бибилотекарь будет заниматься принятием новых книг и выдачей их.

## 1.1 Проблематика <a name="проблематика"></a>
 
У любителей книг может возникать вопрос: А для чего созданы цифровая версия книг, если есть печатная? Отвечая на данный вопрос, хочется сказать, что технологии не стоят на месте, а разваиваются. В дальнейшем, все виды услуг будут иметь свою онлайн версию, для этого будет создана данную ИС. Еще одной проблемой, может быть, боязнь человека использовать сторонние сайты, так как, по их мнению, они могут украсть их данные для использования в своих целях. Хочется убедить всех, что данный сайт будет безопасный на все 100 процентов. Главной проблемой ИС, может являться конкуренция, поэтому проведем сравнительный анализ, сделаем выводы о плюсах и используем их при создании своего сайта[2].

## 1.2 Цели и задачи <a name="цели_и_задачи"></a>

Целью данного проекта является превлечения внимания окружающих к электронным видам книг и создание уникальной информационной системы. 

Задачи проекта. 

1) Расширение возможностей сайта
               
2) Популизирование онлайн библиотек

3) Привлечение аудитории на сайт


## 1.3 Варианты решения проблемы <a name="решение_проблемы"></a>

Предлагается несколько вариантов решения данной проблемы:

1) Продажа не только электронных видов книг, но и печатных.

Так как большинство сайтов продается только либо печатную, либо цифровую версию, данная ИС будет выделяться и иметь свою особеность.

2) Убедить человека в честности сайта.

На главной страницы сайта будут честные отзывы посетителей сайта

3) Увеличение рекламы данной ИС. 

Хочется показать, что в наше время онлайн версия бибилотеки должны быть более актуальны, чем обычные. Чтобы люди не боялись использовать их.

***

## 2 Сравнительный анализ <a name="анализ"></a>

Найдя в интернете два сайта: Litnet.ru и Litmir.ru проведем их анализ, выявим достоинства и недостатки и сделаем вывод, как можно улучшить данную информационную систему.

Начнем с Litnet.
Зайдя на их сайт, сразу бросается в глаза их яркая цветовая гамма. Сочитание гранатового и белого цвета, вызывают симпатию к этому сайту. Сразу заметим плюс, что на главной странице есть колонки "Набирающие популярность" и "Сегодняшние скидки". Нажав на "Личный кабинет" и пройдя регистрацию, попадаем в личный кабинет. При регистрации не возникло никаких проблем, все прошло быстро и хочется сказать, что это большой плюс. Попытавшись выбрать себе книгу, заметим множество жанров, которые раньше были почти не известны. За это тоже хочется поставить плюс. Также, обратим внимание на обратную связь сайта с клиентами и становится понятно, что администрация отвечает почти мгновенно, что не может не радовать. Существенных минусов не было увидено.

Далее сайт LitMir.
Зайдя на сайт, можно увидеть сочитание черного, желотого белого цвета, что не очень нравится. Главная страница перенасыщена информацией. При регистрации, никаих проблем не возникло. Хочется отметить, что на этом сайте не только книги знаменитых людей, но и малоизвестных. На сайте имеется отдельная колонка с отзывами о прочитанных книгах. В личном кабинете имеется закладка "Техническая поддержка" и "Просьбы модераторам", что является несмонено плюсом, так как с помощью этого, можно постоянно улучшать сайт.

Можно сделать вывод, что данная информационная система обязана иметь: множество жанров, приятный для всех посетителей дизайн, быструю и удобную регистрацию и обратную связь с клиентами этого сайта.

***

## 3 Разработка <a name="разработка"></a>

Разработка информационной системы стостоим из двух основных этапов: проектирования и реализации. Для проектирования разрабатывается три диаграммы: USE-CASE, DFD и ER. USE-CASE является описание лиц, учавствовавших в создании ИС. DFD диаграмма - это описание действий участников. ER диаграмма показывает связи между ними. Реализация информационной системы представляет собой готовый программный продукт с описанием его составляющих и текстом программного кода[5].

## 3.1 Этап проектирования <a name="проектирование"></a>

Разработка начинается с описания главных лиц информационной системы. В данном случае это: администратор, библиотекарь и гость сайта(рискунок 1).

<p align="center">
<img src="https://github.com/Fanatik62/biblioteka/blob/main/photo/USE-CASE.png?raw=true"></p>
<p align="center">Рисунок 1 - UseCase диаграмма</p>

Далее на основе USE-CASE создается DFD диагрмаа, где показаны действия участников данной информационной среды(рисунок 2).

<p align="center">
<img src="https://github.com/Fanatik62/biblioteka/blob/main/photo/DFD.PNG?raw=true"></p>
<p align="center">Рисунок 2 - DFD диаграмма</p>

Последней диаграммой является ER, где показана, как сущности связанный между с собой в этой ИС(рисунок 3).

<p align="center">
<img src="https://github.com/Fanatik62/biblioteka/blob/main/photo/ER.PNG?raw=true"></p>
<p align="center">Рисунок 3 - ER диаграмма</p>

## 3.2 Этап реализации <a name="реализация"></a>

На основе ER-диаграммы создается класс с указанием полей, параметров и типов данных для каждой сущности. 
Пример создания класса для сущности Librarian (листинг 1):

Листинг 1 - Класс "Библиотекарь"
```C# 
    public class Librerian
    {
        public int IDlibrarian { get; set; }
        public string FullName { get; set; }
    }
```

Таким же создается классы для книги, клиента, заказа и оплаты.

Далее для каждой сущности создаедтся контроллеры с методами Create, Read, Update, Delite.
Пример создания контроллера для сущности Librarian (листинг 2):

Листинг 2 - Контроллер класса "Библиотекарь"
```csharp 
{
    [ApiController]
    [Route("/librarian")]
    public class LibrarianController : ControllerBase
    {
        [HttpPut]
        public Librarian Create(Librarian librarian)
        {
            Storage.LibrarianStorage.Create(librarian);
            return librarian;
        }

        [HttpGet]
        public Librarian Read(int librarianId)
        {
            return Storage.LibrarianStorage.ReadlLibrarianId);
        }

        [HttpPost]
        public Librarian Update(int librarianId, Librarian newlibrarian)
        {
            return Storage.LibrarianStorage.Update(librarianId, newlibrarian);
        }

        [HttpDelete]
        public bool Delete(int librarianId)
        {
            return Storage.LibrarianStorage.DeletelibrarianId); ;
        }
    }
}
```
Таким же образом создаётся контроллеры для оставшихся классов.

Затем создаедтся хранилище для каждого класса. 
Примерр создания хранилища для класса Librarian (листинг 3):

Листинг 3 - Хранилище класса "Библиотекарь"
```csharp
    public class LibrarianStorage
    {
        private Dictionary<int, Librarian> Librarians { get; } = new Dictionary<int, Librarian>();
        //private SqlConnection Connection { get; } = new SqlConnection("Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;");
        //public LibrarianStorage() => Connection.Open();

        public void Create(Librarian librarian)
        {
            Librarians.Add(librarian.LibrarianId, librarian);
            //var command = Connection.CreateCommand();
            //command.CommandText = "SELECT * FROM .....";
            //command.ExecuteNonQuery
            //command.ExecuteReader
            //command.ExecuteScalar
        }

        public Librarian Read(int librarianId)
        {
            return Librarians[librarianId];
        }

        public Librarian Update(int librarianId, Librarian newlibrarian)
        {
            Librarians[librarianId] = newlibrarian;
            return Librarians[librarianId];
        }

        public bool Delete(int librarianId)
        {
            return Librarians.Remove(librarianId);
        }
    }
}
```

Таким же образом создается хранилища для оставшихся классов, после чего общее хранилище (листинг 4):

Листинг 4 - Общее хранилище
```csharp
namespace biblioteka.Repository
{
    public static class Storage
    {
        public static readonly BookStorage BookStorage = new();
        public static readonly ClientStorage ClientStorage = new();
        public static readonly LibrarianStorage LibrarianStorage = new();
        public static readonly OrderStorage OrderdStorage = new();
        public static readonly PaymentStorage PaymentStorage = new();
    }
}

```
## 4 Тестирование информационной системы <a name="тестирование"></a>

После запуска программы открывается страница Swagger UI со списком сущностей и операций над ними (рисунок 4).
<p align="center">
<img src="https://github.com/Fanatik62/biblioteka/blob/main/photo/4.png?raw=true"></p>
<p align="center">Рисунок 4 - Cтраница Swagger UI</p> 

Проверка работы методов CRUD (Create - создание, Read - чтение, Update - обновление, Delete - удаление) в сущности Admin (рисунок 5).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/5.png?raw=true"></p>
<p align="center">Рисунок 5 - Проверка работы методов CRUD</p> 

1. Create позволяет добавлять новые строки в вашу таблицу (рисунок 6).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/6.png?raw=true"></p>
<p align="center">Рисунок 6 - Окно метода создания</p> 

Ввод необходимых данных об администраторе в соответствующие поля (рисунок 7).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/7.png?raw=true"></p>
<p align="center">Рисунок 7 - Работа с методом создания</p> 

После успешного выполнения операции сервер выдаёт ответ (рисунок 8).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/8.png?raw=true"></p>
<p align="center">Рисунок 8 - Результат выполнения операции создания</p> 

2. Функция чтения Read похожа на функцию поиска, так как позволяет извлекать определенные записи и считывать их значения (рисунок 9).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/9.png?raw=true"></p>
<p align="center">Рисунок 9 - Окно функции чтения</p> 

Считывание информации об уже созданном админе по его Id (рисунок 10).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/10.png?raw=true"></p>
<p align="center">Рисунок 10 - Работа с методом чтения</p> 

После выполнения операции сервер выдаёт об админе информацию, которая была создана в Create (рисунок 11).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/11.png?raw=true"></p>
<p align="center">Рисунок 11 - Результат выполнения операции чтения</p> 

3. Функция редактирования записи Update используется для изменения существующих записей в базе данных (рисунок 12).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/12.png?raw=true"></p>
<p align="center">Рисунок 12 - Окно метода обновления</p> 

Измениение информации об админе, для этого сначала нужно ввести его номер и затем новые данные (рисунок 13).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/13.png?raw=true"></p>
<p align="center">Рисунок 13 - Работа с методом обновления</p> 

После выполнения операции сервер выдаёт новую информацию о том же админе (рисунок 14).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/14.png?raw=true"></p>
<p align="center">Рисунок 14 - Результат выполнения операции обновления</p> 

Функцией Read проверяется вышеуказанная операция. После срабатывания сервер выдает новую информацию об админе (рисунок 15).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/15.png?raw=true"></p>
<p align="center">Рисунок 15 - Результат выполнения операции чтения после обновления данных</p> 

4. Функция Delete используется для удаления записи по Id. Если операция удаления сработает успешно, то ответ сервера будет "true", в противном случае "false" (рисунок 16).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/16.png?raw=true"></p>
<p align="center">Рисунок 16 - Окно метода удаления</p> 

Удаление админа по его Id (рисунок 17).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/17.png?raw=true"></p>
<p align="center">Рисунок 17 - Работа с методом удаления</p> 

После выполнения операции ответ сервера (рисунок 18).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/18.png?raw=true"></p>
<p align="center">Рисунок 18 - Результат выполнения метода удаления</p> 

Проверка вышеописанного действия с помощью Read, считывание информацию об удалённом админе (рисунок 19).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/19.png?raw=true"></p>
<p align="center">Рисунок 19 - Работа с операцией чтения</p> 

После срабатывания программа не выдаёт информации об этом админе (рисунок 20).
<p align="center">
<img src="https://github.com/yuliapyrikova/pyrikova/blob/main/ph/20.png?raw=true"></p>
<p align="center">Рисунок 20 - Результат выполнения операции чтения после удаления данных</p>

***

## Заключение <a name="заключение"></a>
Подводя итоги работы, была сделана информационная система "Онлайн библиотека", которая позволяет регистирроваться на сайте, выбирать книгу по жанрам и производить оплату за выбранные продукты.

***

## Список использованных источников <a name="ссылки"></a>

Для разработке данной информационной системы использовались эти ресурсы:

[1] § 1.1 Неизбежность перехода от книг бумажных к книгам электронным [Электронный ресурс]. – Режим доступа: https://it.wikireading.ru/57101 – Дата доступа: 15.09.2021.

[2] Создание сайтов для библиотек [Электронный ресурс]. – Режим доступа: http://laleshin.narod.ru/ssb.html – Дата доступа: 20.09.2021.

[3] Читать книги онлайн бесплатно - Литнет [Электронный ресурс]. – Режим доступа: https://litnet.com/ – Дата доступа: 25.09.2021.

[4] ЛитМир - Книги читать онлайн - Скачать бесплатно без регистрации - Самиздат - Книги - ЛитМир [Электронный ресурс]. – Режим доступа:https://www.litmir.me/ – Дата доступа: 30.09.2021.

[5] Draw.io [Электронный ресурс]. – Режим доступа: https://app.diagrams.net/. - Режим доступа: https://it.wikireading.ru/57101 – Дата доступа: 05.10.2021.

[6] METANIT.COM [Электронный ресурс]. – Режим доступа: https://metanit.com/sharp/tutorial/3.1.php. – Дата доступа: 10.10.2021.

[7] METANIT.COM [Электронный ресурс]. – Режим доступа: https://metanit.com/sharp/tutorial/3.4.php. – Дата доступа: 15.10.2021.
